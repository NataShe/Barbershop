<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Барбершоп "Бородинский"</title>
  <link rel="stylesheet" href="css/style.min.css">
</head>

<body>
  <header class="page-header">
    <h1 class="visually-hidden">Барбершоп «Бородинский» - истинно мужская классика</h1>
    <a href="index.html" class="page-header__logo">
      <picture>
        <source media="(min-width: 1200px)" srcset="img/logotype-desktop.svg">
        <source media="(min-width: 768px)" srcset="img/logotype-tablet.svg">
        <img class="page-header__logo-image" src="img/logotype-mobile.svg" width="226" height="30"
          alt="Барбершоп Бородинский">
      </picture>
    </a>

    <nav class="main-nav main-nav--closed main-nav--nojs">
      <button class="main-nav__toggle" type="button">Открыть меню</button>
      <div class="main-nav__wrapper">
        <ul class="main-nav__list">
          <li class="main-nav__item">
            <a href="index.html">Главная</a>
          </li>
          <li class="main-nav__item">
            <a href="works-item.html">Наши работы</a>
          </li>
          <li class="main-nav__item main-nav__item--active">
            <a href="form.html">Записаться</a>
          </li>
        </ul>

        <ul class="main-nav__user-list">
          <li class="main-nav__user-item">
            <a class="main-nav__user-login" href="#" title="Войти">
              Войти
            </a>
          </li>
        </ul>
      </div>
    </nav>
  </header>

  <main>
    <section class="form">
      <div class="form__wrapper">
        <h2 class="form__title">Запись на стрижку</h2>
        <a class="button form__return  form__return--show" href="index.html">На главную</a>
        <form class="form__inner" action="#" method="POST">
          <div class="form__field  form__field--fullname">
            <h3 class="form__field-title">Ваше ФИО:</h3>
            <label for="surname"><span class="visually-hidden">Фамилия</span><input type="text" id="surname" name="surname"
                  placeholder="Фамилия"></label>
              <label for="name"><span class="visually-hidden">Имя</span><input type="text" id="name" name="name"
                  placeholder="Имя"></label>
              <label for="patronymic"><span class="visually-hidden">Отчество</span><input type="text" id="patronymic" name="patronymic"
                  placeholder="Отчество"></label>
          </div>
          <div class="form__field  form__field--contacts">
            <h3 class="form__field-title">Ваши контакты:</h3>
            <label for="phone"><input type="text" name="phone" placeholder="Контактный телефон"></label>
            <label for="email"><input type="email" name="email" placeholder="Контактный e-mail"></label>
          </div>
          <div class="form__field  form__field--comment">
            <h3 class="form__field-title">Оставьте комментарий для мастера:</h3>
            <textarea name="comment" placeholder="Доп. информация для мастера"></textarea>
          </div>
          <div class="form__field  form__field--beard">
            <h3 class="form__field-title">Выберите модель бороды:</h3>
            <ul>
              <li>
                <input type="radio" id="beard-1" name="beard" value="beard-1" checked>
                <label for="beard-1">адмирал</label>
                <img src="img/beard-1.svg" alt="Тип бороды">
              </li>
              <li>
                <input type="radio" id="beard-2" name="beard" value="beard-2">
                <label for="beard-2">лесоруб</label>
                <img src="img/beard-2.svg" alt="Тип бороды">
              </li>
              <li>
                <input type="radio" id="beard-3" name="beard" value="beard-3">
                <label for="beard-3">полярник</label>
                <img src="img/beard-3.svg" alt="Тип бороды">
              </li>
              <li>
                <input type="radio" id="beard-4" name="beard" value="beard-4">
                <label for="beard-4">боярин</label>
                <img src="img/beard-4.svg" alt="Тип бороды">
              </li>
              <li>
                <input type="radio" id="beard-5" name="beard" value="beard-5">
                <label for="beard-5">мудрец</label>
                <img src="img/beard-5.svg" alt="Тип бороды">
              </li>
            </ul>
          </div>
          <div class="form__field  form__field--offers">
            <h3 class="form__field-title">Дополнительные услуги:</h3>
            <ul>
              <li>
                <input type="checkbox" id="offer-1" name="offer-1" checked>
                <label for="offer-1">Подкрасить бороду</label>
              </li>
              <li>
                <input type="checkbox" id="offer-2" name="offer-2" checked>
                <label for="offer-2">Накрутить усы</label>
              </li>
              <li>
                <input type="checkbox" id="offer-3" name="offer-3">
                <label for="offer-3">Причесать бороду</label>
              </li>
              <li>
                <input type="checkbox" id="offer-4" name="offer-4">
                <label for="offer-4">Подровнять виски</label>
              </li>
              <li>
                <input type="checkbox" id="offer-5" name="offer-5">
                <label for="offer-5">Убрать седину</label>
              </li>
              <li>
                <input type="checkbox" id="offer-6" name="offer-6">
                <label for="offer-6">Отполировать лысину</label>
              </li>
            </ul>
          </div>
          <button class="form__apply" type="button">Отправить заявку</button>
        </form>
      </div>
    </section>
  </main>
  <footer class="page-footer">
    <div class="page-footer__wrapper">
      <div class="page-footer__contacts">
        <b class="contacts__title">Барбершоп "Бородинский"</b>
        <p class="contacts__text">
            г. Санкт-Петербург, ул. Большая Конюшенная 19 <br>
          <a href="tel:+78125556666" class="contacts__phone">
            <span class="contacts__phone-mobile">Тел: </span> +7 (812)
              555-66-66
          </a>
        </p>
      </div>
      <div class="page-footer__social">
        <b class="social__title">Давайте дружить!</b>
        <ul class="social__list">
          <li class="social__item">
            <a class="social__link social__link--vkontakte" href="">
                Мы в Вконтакте
            </a>
          </li>
          <li class="social__item">
            <a class="social__link social__link--facebook" href="">
                Мы в Фейсбуке
            </a>
          </li>
          <li class="social__item">
            <a class="social__link social__link--instagram" href="">
                Мы в Инстаграме
            </a>
          </li>
        </ul>
      </div>
      <div class="page-footer__copyright">
        <b class="copyright__text">Разработано:</b>
        <a href="" class="button copyright__link">HTML Academy</a>
      </div>
    </div>
  </footer>
  <section class="modal-login">
    <h2 class="modal-login__title">Личный кабинет</h2>
    <p>Введите свой логин и пароль, чтобы войти</p>
    <form class="modal-login__form" action="#" method="POST">
      <label for="login">
        <input type="text" id="login" name="login" placeholder="Логин">
      </label>
      <label for="password">
        <input type="text" id="password" name="password" placeholder="Пароль">
      </label>
      <input type="checkbox" name="remember" id="remember">
      <label for="remember">Запомнить меня</label>
      <a href="#">Я забыл пароль!</a>
      <button class="modal-login__enter" type="submit">Войти <span>в личный кабинет</span></button>
      <button class="modal-login__close button" type="button">Закрыть</button>
    </form>
  </section>

  <script>
    const navMain = document.querySelector('.main-nav');
    const navToggle = document.querySelector('.main-nav__toggle');
    const link = document.querySelector('.main-nav__user-login');
    const popup = document.querySelector('.modal-login');
    const close = popup.querySelector('.modal-login__close');
    const form = popup.querySelector('form');
    const login = popup.querySelector("[name=login]");
    const password = popup.querySelector("[name=password]");

    let isStorageSupport = true;
    let storage = '';

    navMain.classList.remove('main-nav--nojs');

    navToggle.addEventListener('click', function () {
      if (navMain.classList.contains('main-nav--closed')) {
        navMain.classList.remove('main-nav--closed');
        navMain.classList.add('main-nav--opened');
      } else {
        navMain.classList.add('main-nav--closed');
        navMain.classList.remove('main-nav--opened');
      }
    });

    try {
      storage = localStorage.getItem('login');
    } catch (err) {
      isStorageSupport = false;
    }

    link.addEventListener('click', event => {
      event.preventDefault();
      popup.classList.add('modal-login--show');

      if (storage) {
        login.value = storage;
        password.focus();
      } else {
        login.focus();
      }
    });

    close.addEventListener('click', event => {
      event.preventDefault();
      popup.classList.remove('modal-login--show');
      popup.classList.remove('modal-login--error');
    });

    form.addEventListener('submit', event => {
      if (!login.value || !password.value) {
        event.preventDefault();
        popup.classList.remove('modal-login--error');
        popup.offsetWidth = popup.offsetWidth;
        popup.classList.add('modal-login--error');
      } else {
        if (isStorageSupport) {
          localStorage.setItem('login', login.value);
        }
      }
    });

    document.addEventListener('keydown', event => {
      if (event.key === 'Escape') {
        if (popup.classList.contains('modal-login--show')) {
          event.preventDefault();
          popup.classList.remove('modal-login--show');
          popup.classList.remove('modal-login--error');
        }
      }
    });
  </script>

  </body>
</html>

